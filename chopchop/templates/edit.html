{% extends "base.html" %}
<html lang="en">
{% block content %}
    <body class="center">
    <main role="main" class="center-screen">
    <div style="width: 100%">
      <nav>
        <form method="POST" role="form" class="form-horizontal">
  <div class="nav nav-tabs" id="nav-tab" role="tablist">
      {% for key in menus %}
        {% csrf_token %}
          <a {% if forloop.counter0 == 0 %} class="nav-item nav-link active" {% else %} class="nav-item nav-link" {% endif %} id="nav-{{ key }}-tab" data-toggle="tab" href="#nav-{{ key }}" role="tab" aria-controls="nav-{{ key }}" {% if forloop.counter0 == 0 %} aria-selected="true" {% endif %}>
              <input type="text" id="menu-{{ menu_ids|get_menu_id:forloop.counter0 }}"name="menu-{{ menu_ids|get_menu_id:forloop.counter0 }}" value="{{ key }}">
            </a>
            <button style="margin-top: 5px; margin-left: 6px;" name="delete-menu" value="{{ menu_ids|get_menu_id:forloop.counter0 }}" type="submit" class="close">
                <i class="material-icons" style="color: blue">edit</i>
              </button>
            <button style="margin-top: 5px; margin-left: 6px;" name="delete-menu" value="{{ menu_ids|get_menu_id:forloop.counter0 }}" type="submit" class="close">
                <i class="material-icons" style="color: red">close</i>
          </button>
      {% endfor %}
      <a class="nav-item nav-link" data-toggle="tab" role="tab" aria-selected="false">
          <input type="text" name="new-menu" placeholder="New Menu" style="margin-top: 5px; margin-left: 6px;">
        <button style="margin-top: 10px; margin-left: 6px;" name="add-menu" type="submit" class="close">
      <span style="color: green">+</span>
    </button></a>
  </div>
</form>
</nav>
<div class="tab-content" id="nav-tabContent">
{% for key in menus %}
    {% if forloop.counter0 == 0 %}
            <div class="tab-pane fade show active" id="nav-{{ key }}" role="tabpanel" aria-labelledby="nav-{{ key }}-tab">
        {% else %}
        <div class="tab-pane fade show" id="nav-{{ key }}" role="tabpanel" aria-labelledby="nav-{{ key }}-tab">
        {% endif %}
    <p>{{ key|get_notes_menu }}</p>
<table style="width: inherit; height: inherit">
    {% for food in menus|get_attr_key:key %}
        <thead>
        <tr>
            <th>
        <h2 style="margin-top: 10px">{{ food }}</h2>
                <hr>
            </th>
            <th>
                <hr style="margin-top: 65px">
            </th>
        </tr>
        </thead>
        <tbody>
        {% for mi in menus|get_attr_key:key|get_attr_key:food %}
            {% if mi|get_attr:"visible" == True %}
            <tr >
            {% if mi|get_attr:"available" == True %}
                <td style="width: 80%;">
                {% if mi|get_attr:"picture_url" != "" %}
                <a style="padding: 3px" href="{{ mi|get_attr:"picture_url" }}" target="_blank">{{ mi|get_attr:"name" }}</a>
                    {% else %}
                    <a style="padding: 3px">{{ mi|get_attr:"name" }}</a>
                    {% endif %}
                <p>{{ mi|get_attr:"description" }}</p>
                </td>
                <td style="width: 20%; justify-items: left; margin-left: auto; align-items: end; text-align: end; padding-bottom: 15px">
                <a >{{ mi|get_attr:"price"|fix_number }}$</a>
                </td>
                <td><hr></td>
                {% else %}
                <td style="width: 80%;">
                {% if mi|get_attr:"picture_url" != "" %}
                <a href="{{ mi|get_attr:"picture_url" }}" target="_blank" style="color: red; padding: 3px">{{ mi|get_attr:"name" }}  (Not Available Today)</a>
                    {% else %}
                    <a style="color: red; padding: 3px">{{ mi|get_attr:"name" }}  (Not Available Today)</a>
                    {% endif %}
                <p style="color: red">{{ mi|get_attr:"description" }}</p>
                </td>
                <td style="width: 20%; justify-items: left; margin-left: auto; align-items: end; text-align: end">
                <a style="color: red;">{{ mi|get_attr:"price"|fix_number }}$</a>
                </td>
                <td><hr></td>
                {% endif %}
            </tr>
                <tr>
                <td>
                    <hr>
                </td>
                <td>
                    <hr>
                </td>
                </tr>
            {% endif %}
            {% endfor %}
        {% if key|get_notes_food:food != ""  %}
            <tr>
            <td>
        <b>{{ key|get_notes_food:food }}</b>
            </td>
            </tr>
        {% endif %}
    {% endfor %}
    </tbody>
</table>
    </div>
{% endfor %}
        </div>
    </div>
    </main>
</body>
{% endblock content %}